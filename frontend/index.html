<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Quiz Builder</title>

<style>
/* ===== GLOBAL ===== */
body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(135deg, #1e293b, #0f172a);
    color: #ffffff;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ===== CONTAINER ===== */
.container {
    width: 420px;
    background: #020617;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    text-align: center;
}

/* ===== HEADER ===== */
h1 {
    margin-bottom: 5px;
}

.subtitle {
    color: #94a3b8;
    font-size: 14px;
    margin-bottom: 20px;
}

/* ===== INPUT ===== */
.input-box {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

input {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
    outline: none;
}

/* ===== BUTTONS ===== */
button {
    background: #6366f1;
    border: none;
    color: white;
    padding: 10px 14px;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.2s;
}

button:hover {
    background: #4f46e5;
}

/* ===== QUIZ CARD ===== */
.card {
    background: #ffffff;
    color: #0f172a;
    padding: 18px;
    border-radius: 12px;
    min-height: 130px;
    margin-bottom: 15px;
}

#question {
    font-weight: 600;
    margin-bottom: 10px;
}

/* ===== OPTIONS ===== */
#options button {
    display: block;
    width: 100%;
    margin: 6px 0;
    background: #e5e7eb;
    color: #111827;
}

#options button:hover {
    background: #c7d2fe;
}

/* ===== INFO ===== */
.info {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
    margin-bottom: 10px;
}

#result {
    font-weight: bold;
    margin-top: 10px;
}

/* ===== NAV ===== */
.nav {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}
</style>
</head>

<body>

<div class="container">
    <h1>üß† AI Quiz Builder</h1>
    <p class="subtitle">Learn faster with AI-generated quizzes</p>

    <div class="input-box">
        <input id="topic" placeholder="Enter topic (DBMS)">
        <button onclick="generateQuiz()">Generate</button>
    </div>

    <div class="info">
        <span>Score: <b id="score">0</b></span>
        <span>‚è± <b id="timer">10</b>s</span>
    </div>

    <div class="card">
        <p id="question">Enter a topic to start</p>
        <div id="options"></div>
        <p id="result"></p>
    </div>

    <div class="nav">
        <button onclick="prev()">‚¨Ö Previous</button>
        <button onclick="next()">Next ‚û°</button>
    </div>
</div>

<script>
/* ===== STATE ===== */
let questions = [];
let index = 0;
let score = 0;
let time = 10;
let timerInterval;

/* ===== GENERATE QUIZ ===== */
async function generateQuiz() {
    const topic = document.getElementById("topic").value.trim();
    if (!topic) {
        alert("Please enter a topic");
        return;
    }

    const res = await fetch("http://127.0.0.1:5000/generate-quiz", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ topic })
    });

    const data = await res.json();
    questions = data.questions;
    index = 0;
    score = 0;
    document.getElementById("score").innerText = score;

    showQuestion();
}

/* ===== SHOW QUESTION ===== */
function showQuestion() {
    clearInterval(timerInterval);
    time = 10;
    document.getElementById("timer").innerText = time;
    document.getElementById("result").innerText = "";

    const q = questions[index];
    document.getElementById("question").innerText = q.question;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    q.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(opt);
        optionsDiv.appendChild(btn);
    });

    timerInterval = setInterval(() => {
        time--;
        document.getElementById("timer").innerText = time;

        if (time === 0) {
            clearInterval(timerInterval);
            document.getElementById("result").innerText =
                "‚è∞ Time‚Äôs up! Correct: " + q.answer;
        }
    }, 1000);
}

/* ===== CHECK ANSWER ===== */
function checkAnswer(selected) {
    clearInterval(timerInterval);
    const correct = questions[index].answer;

    if (selected === correct) {
        score++;
        document.getElementById("score").innerText = score;
        document.getElementById("result").innerText = "‚úÖ Correct!";
    } else {
        document.getElementById("result").innerText =
            "‚ùå Wrong! Correct: " + correct;
    }
}

/* ===== NAVIGATION ===== */
function next() {
    if (index < questions.length - 1) {
        index++;
        showQuestion();
    }
}

function prev() {
    if (index > 0) {
        index--;
        showQuestion();
    }
}
<input id="topic" placeholder="Enter topic">

<button id="generateBtn">Generate Quiz</button>

<p id="question">Question will appear here</p>

<div id="options"></div>

<p id="result"></p>

<button id="prevBtn">‚¨Ö Previous</button>
<button id="nextBtn">Next ‚û°</button>

</script>

</body>
</html>
